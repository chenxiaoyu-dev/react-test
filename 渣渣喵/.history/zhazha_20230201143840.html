<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <button id="debounce">防抖</button>
      <input type="text" id="input">
    </div>
  </body>
</html>
<script>

  // 防抖
function mydebounce(fn, delay) {
  let timer = null

  // 1.接收可能传入的函数
  const _debounce = function(...args) {
    if (timer) clearTimeout(timer)

    timer = setTimeout(() => {
      // 2.再将参数传给fn
      fn.apply(this, args)
      timer = null
    }, delay)
  }
   _debounce.cancel = function() {
    if (timer) clearTimeout(timer)
  }
  // 返回一个新的函数
  return _debounce
}

  const fun = () => {
    console.log("渣渣喵", 2222);
  };

  const inputEl = document.querySelector("input");
  //   const thorttleBtn = document.querySelector("#thorttle");

  inputEl.oninput = mydebounce(fun, 3000);
// 节流
 let throttle = function (callback, delay) {
            // 判断依据
            let flag = true
            return function () {
                // 如果flag为false便忽略这次操作
                if (flag) {
                    /*  设定定时器，当任务执行时将flag恢复false，
                        允许下一次的事件触发
                    */
                    setTimeout(() => {
                        callback.call(this)
                        flag = true
                    }, delay)
                }
                //在定时任务执行之前，flag始终为false
                flag = false
            }
        }

————————————————
版权声明：本文为CSDN博主「Donp1」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/Dpl0216/article/details/124363613


</script>
